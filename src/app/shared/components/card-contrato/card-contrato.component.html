<div class="card col-12">
    <div class="card-body" [routerLink]="['/contrato/' + contrato.id_contrato]">
        <div class="row">
            <div class="col-sm-1">
               <small class="text-secondary"><p class="custom-line-height">Nº
                {{ contrato.nu_contrato | formatNumContrato: 'newline'}}</p>
            </small>
            </div>
            <div class="col-sm-4  mx-auto">
                <h6 *ngIf="contrato.no_fornecedor" class="text-warning text-capitalize mb-1"><strong>{{contrato.no_fornecedor | formatNomeEmpresa}}</strong></h6>
                <h6 *ngIf="!contrato.no_fornecedor" class="text-warning mb-1"><strong>Nome não encontrado</strong></h6>
                <span class="text-secondary">CNPJ/CPF: {{contrato.nu_cpfcnpj | formatCpfCnpj}}</span>
            </div>

            <div class="col-sm-2 mx-auto">
                <h5 class="text-warning text-capitalize mt-3 mt-sm-0"><strong class="custom-value">{{ contrato.vl_total_contrato | currency: "R$" }}</strong></h5>
                <div class="row" *ngIf="!isPortrait" >
                    <span class="text-secondary ml-3">Pago</span>
                    <div class="col-sm-7 my-auto">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped bg-secondary progress-bar-animated" role="progressbar" [style.width.%]="getPorcentagemPago (contrato)"  aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                  </div>
            </div>

            <div class="col-sm-2 mx-auto mt-3 mt-sm-0">
                <h5 class="text-warning custom-value"><strong>até {{ contrato.pr_vigencia | date: 'dd/MM/yyyy'}}</strong></h5>
                <span class="text-secondary">de {{ contrato.dt_assinatura | date: 'dd/MM/yyyy'}}</span>
            </div>

            <div class="col-sm-1 mx-auto mt-2 mt-sm-0">
                <div *ngIf="getRisco (contrato) > 0"class="progress custom-progress text-left mt-1">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" 
                    role="progressbar" 
                    [style.width.%]="getRisco (contrato)" 
                    [ngClass]="{
                        'bg-danger' : getRisco (contrato) > 25,
                        'bg-warnning' : getRisco (contrato) > 10,
                        'bg-success' : getRisco (contrato) <= 10
                        }"
                    aria-valuenow="0" 
                    aria-valuemin="0" 
                    aria-valuemax="100"></div>
                </div>

                <span *ngIf="getRisco (contrato) > 25" class="text-secondary risk">Alto Risco</span>
                <span *ngIf="getRisco (contrato) > 10 && getRisco (contrato) <= 25" class="text-secondary risk">Médio Risco</span>
                <span *ngIf="getRisco (contrato) <= 10 && getRisco (contrato) >=0 " class="text-secondary risk">Baixo Risco</span>
                <span *ngIf="getRisco (contrato) == -1" class="text-secondary risk custom-risk">Sem Risco <br>Associado</span>
            </div>
        </div>
    </div>
</div>